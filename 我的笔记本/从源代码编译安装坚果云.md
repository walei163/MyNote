# 如何从源代码编译安装坚果云

1. 准备构建环境

坚果云Linux客户端依赖于这些包: `glib2.0-dev`, `gtk2.0-dev`, `libnautilus-extension-dev`. 如果您已经安装这些软件包，请跳至下一步

如果您的系统是`Ubuntu/Debian/UOS`，可以用以下命令安装这些包：

```bash
sudo apt-get install libglib2.0-dev libgtk2.0-dev libnautilus-extension-dev python3-gi gir1.2-appindicator3-0.1 autoconf libtool pkg-config
```

如果您的系统是`Fedora/CentOS/RHEL`等，可以用以下命令安装这些包：

```bash
sudo yum install glib2-devel gtk2-devel nautilus-devel libappindicator-gtk3 python3-gobject autoconf libtool pkg-config
```

2. 下载Nautilus插件源代码包: [nutstore_linux_src_installer.tar.gz](https://www.jianguoyun.com/static/exe/installer/nutstore_linux_src_installer.tar.gz)

```bash
wget https://www.jianguoyun.com/static/exe/installer/nutstore_linux_src_installer.tar.gz
```

3. 解压缩，编译和安装`Nautilus`插件

```bash
tar zxf nutstore_linux_src_installer.tar.gz
cd nutstore_linux_src_installer
./update-toolchain.sh && ./configure && make
sudo make install
```

4. 重启`Nautilus`

```bash
nautilus -q
```

5. 运行以下命令，自动下载和安装坚果云其他二进制组件

```bash
./runtime_bootstrap
```

具体过程也可参考源代码包里面的`README`文件